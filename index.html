<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Enhanced Weather App</title>
  <link rel="stylesheet" href="style.css"/>

  <!-- Leaflet 1.9.3 (CSS) with correct SRI -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
    integrity="sha256-pgKwJ2e+6Cimr2VZ8VeKP6+0YPtQZ8a9qKX8bK1C2/g="
    crossorigin=""
  />

  <!-- Chart.js 4.3.0 from cdnjs (with correct SRI) -->
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.3.0/chart.umd.min.js"
    integrity="sha512-gZ8adUT4rNYEi0yeZ8NfzbGwpZf9A+BwraCloiLaAd96ZlVCRvF6f7sB+UYpI41q/k1f4Zfyg4vtg4ppHEZ9Q=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  ></script>
</head>
<body>
  <div id="loadingSpinner" class="spinner">Loading...</div>

  <div class="container">
    <h1>üå§Ô∏è Enhanced Weather App</h1>

    <!-- Search for any city -->
    <div class="search-bar">
      <input type="text" id="cityInput" placeholder="Enter city name" />
      <button id="searchBtn">Search</button>
    </div>

    <!-- Favorites & Multi-City Comparison -->
    <div class="favorites">
      <h2>Favorites</h2>
      <ul id="favoritesList"></ul>
      <button id="compareBtn">Compare Selected</button>
    </div>

    <p id="errorMessage" class="error"></p>

    <!-- Current Weather -->
    <div id="weatherResult"></div>

    <!-- ¬∞C / ¬∞F Toggle -->
    <div class="toggle">
      <input type="checkbox" id="unitToggle" />
      <label for="unitToggle">Switch to ¬∞F</label>
    </div>

    <!-- Air Quality -->
    <h2>Air Quality Index (AQI)</h2>
    <div id="aqiResult"></div>

    <!-- 5-Day Forecast -->
    <h2>5-Day Forecast</h2>
    <div id="forecast"></div>

    <!-- City Map (Interactive with Leaflet) -->
    <h2>City Map</h2>
    <div id="map"></div>

    <!-- Chart.js Container for Multi-City Comparison -->
    <h2>Comparison Chart</h2>
    <canvas id="comparisonChart" width="400" height="200"></canvas>
  </div>

  <!-- Leaflet 1.9.3 (JS) with correct SRI -->
  <script
    src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
    integrity="sha256-R6ErLW6gV6bc3cLMgTqFhTeE7qzG2Q5N1Ax2QnkOScE="
    crossorigin=""
  ></script>

  <script src="script.js"></script>
</body>
</html>
